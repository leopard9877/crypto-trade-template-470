function f(i){const e={},s={type:/\b(Loi|Décret|Ordonnance|Arrêté)\b/i,reference:/n°?\s*(\d{1,3}[-\/]\d{1,3})/g,date:/\b(\d{1,2}[\s\/\-]\d{1,2}[\s\/\-]\d{4})\b/g,authority:/(Président|Gouvernement|Ministre|Ministère)/i,language:/\b(العربية|français|arabe)\b/i},a=i.match(s.type);if(a){const n=a[0].toLowerCase();n.includes("loi")?e.type="Loi":n.includes("décret")?e.type="Décret exécutif":n.includes("ordonnance")?e.type="Ordonnance":n.includes("arrêté")&&(e.type="Arrêté ministériel")}const r=i.match(s.reference);r&&r.length>0&&(e.reference=r[0]);const c=i.match(s.date);if(c&&c.length>0){const n=c[0];try{const o=new Date(n.replace(/[\s\/]/g,"-"));isNaN(o.getTime())||(e.publicationDate=o.toISOString().split("T")[0])}catch{console.warn("Date parsing failed:",n)}}const t=i.match(s.authority);if(t){const n=t[0].toLowerCase();n.includes("président")?e.authority="Présidence de la République":n.includes("gouvernement")?e.authority="Gouvernement":n.includes("ministre")&&(e.authority="Ministère de la Justice")}const l=i.split(`
`).filter(n=>n.trim().length>10);l.length>0&&(e.title=l[0].trim()),e.description=i.trim();const u=/[\u0600-\u06FF\u0750-\u077F]/,d=/[àâäéèêëïîôöùûüÿçÀÂÄÉÈÊËÏÎÔÖÙÛÜŸÇ]/;return u.test(i)&&d.test(i)?e.language="ar-fr":u.test(i)?e.language="ar":e.language="fr",e}function p(i){const e={},s={type:/\b(demande|autorisation|licence|permis|certificat|déclaration)\b/i,sector:/(commerce|industrie|agriculture|transport|urbanisme|éducation)/i,reference:/(dossier|n°|ref)\s*:?\s*(\w+)/i},a=i.match(s.type);if(a){const t=a[0].toLowerCase();t.includes("demande")?e.type="Demande":t.includes("autorisation")?e.type="Autorisation":t.includes("licence")?e.type="Licence":t.includes("permis")?e.type="Permis":t.includes("certificat")?e.type="Certificat":t.includes("déclaration")&&(e.type="Déclaration")}const r=i.match(s.sector);if(r){const t=r[0].toLowerCase();t.includes("commerce")?e.sector="Commerce":t.includes("industrie")?e.sector="Industrie":t.includes("agriculture")?e.sector="Agriculture":t.includes("transport")?e.sector="Transport":t.includes("urbanisme")?e.sector="Urbanisme et Construction":t.includes("éducation")&&(e.sector="Éducation")}const c=i.split(`
`).filter(t=>t.trim().length>5);return c.length>0&&(e.name=c[0].trim()),e.description=i.trim(),e}export{f as extractLegalTextData,p as extractProcedureData};
